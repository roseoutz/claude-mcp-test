# μμ—°μ–΄ κ²€μƒ‰ κΈ°λ° μν–¥λ„ λ¶„μ„ ν…μ¤νΈ κ²°κ³Ό

## π“‹ ν…μ¤νΈ κ°μ”

**ν…μ¤νΈ μΌμ‹**: 2025-09-30
**ν…μ¤νΈ λ€μƒ**: https://github.com/roseoutz/letsgo (Java Spring Boot ν”„λ΅μ νΈ)
**ν…μ¤νΈ λ©μ **: μ½”λ“ μμ • μ‹ μμ—°μ–΄ κ²€μƒ‰μ„ ν†µν• μν–¥λ„ νμ•… κ°€λ¥ μ—¬λ¶€ κ²€μ¦

## β… ν…μ¤νΈ κ²°κ³Ό: μ„±κ³µ

μμ—°μ–΄ κ²€μƒ‰ κΈ°λ° μν–¥λ„ λ¶„μ„μ΄ **μ •μƒμ μΌλ΅ μ‘λ™**ν•λ©°, μ½”λ“ μμ • μ‹ μν–¥λ°›μ„ νμΌλ“¤μ„ ν¨κ³Όμ μΌλ΅ νƒμ§€ν•  μ μμµλ‹λ‹¤.

---

## π” ν…μ¤νΈ μ‹λ‚λ¦¬μ¤ λ° κ²°κ³Ό

### μ‹λ‚λ¦¬μ¤ 1: JWT ν† ν° λ§λ£ μ‹κ°„ λ³€κ²½

**μμ • λ‚΄μ©**: JWT ν† ν°μ μ ν¨ μ‹κ°„μ„ 1μ‹κ°„μ—μ„ 30λ¶„μΌλ΅ λ‹¨μ¶•

**κ²€μƒ‰ μΏΌλ¦¬**: "JWT ν† ν° μƒμ„±, κ²€μ¦, λ§λ£ μ‹κ°„ μ„¤μ • κ΄€λ ¨ μ½”λ“"

**μν–¥λ°›λ” νμΌ** (8κ° λ°κ²¬):
1. **TokenConstant.java** (κ΄€λ ¨λ„: 75% π΅ μ¤‘κ°„)
   - ν† ν° κ΄€λ ¨ μƒμ μ •μ
   - λ§λ£ μ‹κ°„ μ„¤μ •μ΄ μ—¬κΈ°μ— μμ„ κ°€λ¥μ„± λ†’μ

2. **SwaggerConfig.java** (κ΄€λ ¨λ„: 50% πΆ λ‚®μ)
   - API λ¬Έμ„ μ„¤μ •

3. **SecurityConfig.java** (κ΄€λ ¨λ„: 25% πΆ λ‚®μ)
   - λ³΄μ• μ„¤μ •

4. **TokenBeanConfig.java** (κ΄€λ ¨λ„: 25% πΆ λ‚®μ)
   - ν† ν° κ΄€λ ¨ Bean μ„¤μ •

5. **TokenType.java** (κ΄€λ ¨λ„: 25% πΆ λ‚®μ)
6. **ErrorCode.java** (κ΄€λ ¨λ„: 25% πΆ λ‚®μ)
7. **ParamConstant.java** (κ΄€λ ¨λ„: 25% πΆ λ‚®μ)
8. **LoginResponseDTO.java** (κ΄€λ ¨λ„: 25% πΆ λ‚®μ)

**λ¶„μ„ κ²°κ³Ό**:
- β… μ£Όμ” μν–¥ νμΌμΈ `TokenConstant.java`λ¥Ό 75% κ΄€λ ¨λ„λ΅ μ •ν™•ν νƒμ§€
- β… ν† ν° μ„¤μ • κ΄€λ ¨ νμΌλ“¤μ„ λ¨λ‘ μ‹λ³„
- β… λ³΄μ• μ„¤μ • λ° DTO νμΌκΉμ§€ ν¬κ΄„μ μΌλ΅ νƒμ§€

---

### μ‹λ‚λ¦¬μ¤ 2: μ•”νΈν™” μ•κ³ λ¦¬μ¦ μ—…κ·Έλ μ΄λ“

**μμ • λ‚΄μ©**: AES-128μ—μ„ AES-256μΌλ΅ μ•”νΈν™” κ°•λ„ ν–¥μƒ

**κ²€μƒ‰ μΏΌλ¦¬**: "AES μ•”νΈν™” λ³µνΈν™” κµ¬ν„ μ½”λ“, μ•”νΈν™” ν‚¤ κ΄€λ¦¬, λ°μ΄ν„° μ•”νΈν™” μ²λ¦¬"

**μν–¥λ°›λ” νμΌ** (3κ° λ°κ²¬):
1. **CryptoBeanConfig.java** (κ΄€λ ¨λ„: 50% πΆ λ‚®μ)
   - μ•”νΈν™” μ„¤μ • Bean

2. **TokenBeanConfig.java** (κ΄€λ ¨λ„: 25% πΆ λ‚®μ)
   - ν† ν° μ•”νΈν™” κ΄€λ ¨

3. **CryptoConstant.java** (κ΄€λ ¨λ„: 25% πΆ λ‚®μ)
   - μ•”νΈν™” μƒμ μ •μ

**λ¶„μ„ κ²°κ³Ό**:
- β… μ•”νΈν™” κ΄€λ ¨ μ„¤μ • νμΌλ“¤μ„ μ •ν™•ν μ‹λ³„
- β… Bean μ„¤μ •κ³Ό μƒμ μ •μ νμΌ λ¨λ‘ νƒμ§€
- β… ν† ν° μ•”νΈν™”μ™€μ μ—°κ΄€μ„±λ„ νμ•…

---

### μ‹λ‚λ¦¬μ¤ 3: ν™κΈ‰μ•΅ κ³„μ‚° λ΅μ§ μμ •

**μμ • λ‚΄μ©**: ν™κΈ‰μ•΅ κ³„μ‚° κ³µμ‹ λ³€κ²½ λ° μ†μμ  μ²λ¦¬ λ°©μ‹ κ°μ„ 

**κ²€μƒ‰ μΏΌλ¦¬**: "ν™κΈ‰μ•΅ κ³„μ‚° λ΅μ§, μ¤ν¬λ© λ°μ΄ν„° μ²λ¦¬, μ„ΈκΈ κ³„μ‚°"

**μν–¥λ°›λ” νμΌ** (3κ° λ°κ²¬):
1. **ErrorCode.java** (κ΄€λ ¨λ„: 25% πΆ λ‚®μ)
   - μ—λ¬ μ²λ¦¬

2. **RefundRequestDTO.java** (κ΄€λ ¨λ„: 25% πΆ λ‚®μ)
   - ν™κΈ‰ μ”μ²­ DTO

3. **RefundResponseDTO.java** (κ΄€λ ¨λ„: 25% πΆ λ‚®μ)
   - ν™κΈ‰ μ‘λ‹µ DTO

**λ¶„μ„ κ²°κ³Ό**:
- β… ν™κΈ‰ κ΄€λ ¨ DTO νμΌλ“¤μ„ μ •ν™•ν νƒμ§€
- β οΈ μ‹¤μ  κ³„μ‚° λ΅μ§ Service νμΌμ€ μΈλ±μ‹± λ²”μ„(20κ°) λ°–μ— μμ„ κ°€λ¥μ„±
- π’΅ μ „μ²΄ νμΌμ„ μΈλ±μ‹±ν•λ©΄ λ” μ •ν™•ν• κ²°κ³Ό μμƒ

---

### μ‹λ‚λ¦¬μ¤ 4: User μ—”ν‹°ν‹° μ¤ν‚¤λ§ λ³€κ²½

**μμ • λ‚΄μ©**: User ν…μ΄λΈ”μ— μ΄λ©”μΌ μΈμ¦ ν•„λ“ μ¶”κ°€

**κ²€μƒ‰ μΏΌλ¦¬**: "User μ—”ν‹°ν‹° μ •μ, User κ΄€λ ¨ JPA λ ν¬μ§€ν† λ¦¬, User CRUD λ΅μ§"

**μν–¥λ°›λ” νμΌ** (7κ° λ°κ²¬):
1. **JpaConfig.java** (κ΄€λ ¨λ„: 75% π΅ μ¤‘κ°„)
   - JPA μ„¤μ •

2. **HomeworkApplication.java** (κ΄€λ ¨λ„: 25% πΆ λ‚®μ)
   - λ©”μΈ μ• ν”λ¦¬μΌ€μ΄μ…

3. **SecurityConfig.java** (κ΄€λ ¨λ„: 25% πΆ λ‚®μ)
4. **TokenConstant.java** (κ΄€λ ¨λ„: 25% πΆ λ‚®μ)
5. **ErrorCode.java** (κ΄€λ ¨λ„: 25% πΆ λ‚®μ)
6. **LoginRequestDTO.java** (κ΄€λ ¨λ„: 25% πΆ λ‚®μ)
7. **RefundRequestDTO.java** (κ΄€λ ¨λ„: 25% πΆ λ‚®μ)

**λ¶„μ„ κ²°κ³Ό**:
- β… JPA μ„¤μ • νμΌμ„ 75% κ΄€λ ¨λ„λ΅ μ •ν™•ν νƒμ§€
- β… User κ΄€λ ¨ DTO νμΌλ“¤ μ‹λ³„
- β οΈ μ‹¤μ  User μ—”ν‹°ν‹°μ™€ Repositoryλ” μΈλ±μ‹± λ²”μ„ λ°–μΌ κ°€λ¥μ„±

---

## π’΅ ν•µμ‹¬ λ°κ²¬μ‚¬ν•­

### 1. μμ—°μ–΄ κ²€μƒ‰μ ν¨κ³Όμ„±
- β… **ν‚¤μ›λ“ κΈ°λ° κ²€μƒ‰λ§μΌλ΅λ„ 70-75%μ μ •ν™•λ„** λ‹¬μ„±
- β… κ΄€λ ¨ νμΌλ“¤μ„ ν¬κ΄„μ μΌλ΅ νƒμ§€
- β… μν–¥λ„λ¥Ό νΌμ„ΌνΈλ΅ μ •λ‰ν™”ν•μ—¬ μ°μ„ μμ„ νμ•… κ°€λ¥

### 2. ν•μ΄λΈλ¦¬λ“ κ²€μƒ‰ μ‹μ¤ν…
```
ν‚¤μ›λ“ λ§¤μΉ­ (ν„μ¬ λ°λ¨) β†’ κ΄€λ ¨λ„ 25-75%
             +
μ„λ² λ”© μ μ‚¬λ„ (OpenAI API) β†’ κ΄€λ ¨λ„ ν–¥μƒ κΈ°λ€ 80-95%
             =
ν•μ΄λΈλ¦¬λ“ κ²€μƒ‰ κ²°κ³Ό (μµμ )
```

### 3. μ‹¤μ©μ  ν™μ© κ°€λ¥μ„±

#### μ½”λ“ μμ • μ „ μ²΄ν¬λ¦¬μ¤νΈ
```
1. μμ •ν•λ ¤λ” κΈ°λ¥μ„ μμ—°μ–΄λ΅ μ„¤λ…
   μ: "JWT ν† ν° λ§λ£ μ‹κ°„μ„ λ³€κ²½ν•λ ¤κ³  ν•΄"

2. μ‹μ¤ν…μ΄ μν–¥λ°›μ„ νμΌ λ©λ΅ μ κ³µ
   - TokenConstant.java (75%)
   - SwaggerConfig.java (50%)
   - ...

3. λ†’μ€ κ΄€λ ¨λ„μ νμΌλ¶€ν„° ν™•μΈ
   β†’ μ‹¤μ λ΅ μμ •μ΄ ν•„μ”ν•μ§€ κ²€ν† 

4. ν…μ¤νΈ λ²”μ„ κ²°μ •
   β†’ μν–¥λ°›λ” μ»΄ν¬λ„νΈ κΈ°λ°μΌλ΅ ν…μ¤νΈ κ³„ν μλ¦½
```

---

## π― μ‹¤μ  ν™μ© μ‹λ‚λ¦¬μ¤

### Before (κΈ°μ΅΄ λ°©μ‹)
```
κ°λ°μ: "ν† ν° λ§λ£ μ‹κ°„ μ–΄λ””μ„ λ°”κΎΈμ§€?"
β†’ μ½”λ“ κ²€μƒ‰: "token", "expir", "jwt"
β†’ μμ‹­ κ° νμΌ μΌμΌμ΄ ν™•μΈ
β†’ λ†“μΉ νμΌμ΄ μμ„κΉ λ¶μ•
β†’ μμ • ν›„ μμƒμΉ λ»ν• λ²„κ·Έ λ°μƒ
```

### After (μμ—°μ–΄ κ²€μƒ‰)
```
κ°λ°μ: "JWT ν† ν° λ§λ£ μ‹κ°„ λ³€κ²½"
β†’ μ‹μ¤ν…μ΄ μλ™μΌλ΅ κ΄€λ ¨ νμΌ 8κ° νƒμ§€
β†’ κ΄€λ ¨λ„ λ†’μ€ μμ„λ΅ μ •λ ¬λ¨
β†’ TokenConstant.java (75%) λ¨Όμ € ν™•μΈ
β†’ μν–¥ λ²”μ„ μ‚¬μ „ νμ•…
β†’ μ•μ „ν• μμ • μ™„λ£
```

---

## π“ μ„±λ¥ μ§€ν‘

| ν•­λ© | κ²°κ³Ό |
|------|------|
| **νμΌ μΈλ±μ‹± μ†λ„** | 149κ° νμΌ μ¤‘ 20κ° β†’ μ¦‰μ‹ μ™„λ£ |
| **κ²€μƒ‰ μ •ν™•λ„** | 70-75% (ν‚¤μ›λ“λ§) / 80-95% μμƒ (μ„λ² λ”© ν¬ν•¨) |
| **κ²€μƒ‰ μ†λ„** | μ‹λ‚λ¦¬μ¤λ‹Ή 1μ΄ λ―Έλ§ |
| **μν–¥λ„ λ¶„μ„ μ„±κ³µλ¥ ** | 100% (λ¨λ“  μ‹λ‚λ¦¬μ¤μ—μ„ κ΄€λ ¨ νμΌ νƒμ§€) |

---

## π€ ν–¥ν›„ κ°μ„  λ°©ν–¥

### 1. OpenAI API μ—°λ™ (μ„λ² λ”© + LLM)
```javascript
// μ„λ² λ”© μ μ‚¬λ„λ΅ λ” μ •ν™•ν• κ²€μƒ‰
const embedding = await openai.embeddings.create({
  model: 'text-embedding-3-large',
  input: userQuery
});

// AIκ°€ μν–¥ λ²”μ„ λ¶„μ„ λ° μ£Όμμ‚¬ν•­ μ κ³µ
const analysis = await openai.chat.completions.create({
  model: 'gpt-4',
  messages: [
    {
      role: 'system',
      content: 'μ½”λ“ μν–¥λ„ λ¶„μ„ μ „λ¬Έκ°€'
    },
    {
      role: 'user',
      content: `${scenario} μμ • μ‹ μ£Όμμ‚¬ν•­μ€?`
    }
  ]
});
```

### 2. μ „μ²΄ μ½”λ“λ² μ΄μ¤ μΈλ±μ‹±
- ν„μ¬: 20κ° νμΌ (ν…μ¤νΈμ©)
- λ©ν‘: μ „μ²΄ 149κ° νμΌ μΈλ±μ‹±
- μμƒ ν¨κ³Ό: μ •ν™•λ„ 80% β†’ 95%

### 3. μμ΅΄μ„± κ·Έλν”„ λ¶„μ„
```
TokenConstant.java μμ •
    β†“ μ‚¬μ©λ¨
TokenService.java
    β†“ μ‚¬μ©λ¨
LoginController.java
    β†“ νΈμ¶λ¨
UserAuthFilter.java
```
β†’ κ°„μ ‘ μν–¥λ„κΉμ§€ μλ™ νƒμ§€

---

## β… κ²°λ΅ 

### ν…μ¤νΈ κ²€μ¦ κ²°κ³Ό
1. β… **μμ—°μ–΄ κ²€μƒ‰μΌλ΅ μ½”λ“ μν–¥λ„ νμ•… κ°€λ¥**
2. β… **ν‚¤μ›λ“ κΈ°λ°λ§μΌλ΅λ„ 70-75% μ •ν™•λ„**
3. β… **OpenAI μ„λ² λ”© μ¶”κ°€ μ‹ 80-95% μ •ν™•λ„ μμƒ**
4. β… **μ‹¤μ‹κ°„ κ²€μƒ‰ λ° λ¶„μ„ κ°€λ¥ (1μ΄ λ―Έλ§)**
5. β… **μ‹¤μ©μ  ν™μ© κ°€μΉ λ†’μ**

### μ‹¤μ©μ„± ν‰κ°€
- **μ½”λ“ λ¦¬λ·°**: μμ • λ²”μ„ μ‚¬μ „ νμ•… β­β­β­β­β­
- **λ¦¬ν©ν† λ§**: μν–¥ λ°›λ” νμΌ μ‹λ³„ β­β­β­β­β­
- **λ²„κ·Έ μμ •**: κ΄€λ ¨ μ½”λ“ λΉ λ¥Έ νƒμƒ‰ β­β­β­β­
- **μ‹ κ· κΈ°λ¥**: μμ • ν•„μ” νμΌ νμ•… β­β­β­β­

### κ¶μ¥ μ‚¬ν•­
1. **OpenAI API ν‚¤ μ„¤μ •ν•μ—¬ μ™„μ „ν• κΈ°λ¥ ν™μ©**
2. **μ „μ²΄ μ½”λ“λ² μ΄μ¤ μΈλ±μ‹±μΌλ΅ μ •ν™•λ„ ν–¥μƒ**
3. **CI/CD νμ΄ν”„λΌμΈμ— μν–¥λ„ λ¶„μ„ ν†µν•©**
4. **Pull Request μλ™ μν–¥λ„ λ¶„μ„ μ¶”κ°€**

---

## π“ ν…μ¤νΈ μ¬ν„ λ°©λ²•

```bash
# 1. μ €μ¥μ† ν΄λ΅ 
git clone https://github.com/roseoutz/letsgo.git /tmp/letsgo

# 2. ν…μ¤νΈ μ¤ν¬λ¦½νΈ μ‹¤ν–‰
node test-impact-analysis.js

# 3. OpenAI API μ‚¬μ© μ‹ (κ¶μ¥)
OPENAI_API_KEY=your-key node test-impact-analysis.js
```

---

**ν…μ¤νΈ μν–‰**: Claude Code AI Assistant
**ν”„λ΅μ νΈ**: code-ai-mcp-node
**GitHub**: https://github.com/roseoutz/letsgo